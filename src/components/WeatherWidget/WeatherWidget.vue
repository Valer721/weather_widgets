<template>
  <div class="weatherWidget" v-if="!loading">
    <div class="weatherWidget__body">
      <div class="weatherWidget__block weatherWidget__block_title">
        <strong>{{ widget.cityName }}, {{ widget.country }}</strong>
        <svg class="weatherWidget__icon weatherWidget__icon_gear" viewBox="0 0 512 512" @click="openSettings()">
          <path d="M471.46,212.99l-42.07-7.92c-3.63-12.37-8.58-24.3-14.79-35.64l24.16-35.37c4.34-6.35,3.54-14.9-1.9-20.34    l-38.58-38.58c-5.44-5.44-13.99-6.24-20.34-1.9L342.57,97.4c-11.34-6.21-23.27-11.16-35.64-14.78l-7.92-42.07    c-1.42-7.56-8.03-13.04-15.72-13.04h-54.57c-7.69,0-14.3,5.48-15.72,13.04l-7.92,42.07c-12.37,3.63-24.3,8.58-35.64,14.78    l-35.37-24.16c-6.35-4.34-14.9-3.54-20.34,1.9l-38.58,38.58c-5.44,5.44-6.24,13.98-1.9,20.34l24.16,35.37    c-6.21,11.34-11.16,23.27-14.79,35.64l-42.07,7.92c-7.56,1.42-13.04,8.03-13.04,15.72v54.57c0,7.69,5.48,14.3,13.04,15.72    l42.07,7.92c3.63,12.37,8.58,24.3,14.79,35.64l-24.16,35.37c-4.34,6.35-3.54,14.9,1.9,20.34l38.58,38.58    c5.44,5.44,13.99,6.24,20.34,1.9l35.37-24.16c11.34,6.21,23.27,11.16,35.64,14.79l7.92,42.07c1.42,7.56,8.03,13.04,15.72,13.04    h54.57c7.69,0,14.3-5.48,15.72-13.04l7.92-42.07c12.37-3.63,24.3-8.58,35.64-14.79l35.37,24.16c6.35,4.34,14.9,3.54,20.34-1.9    l38.58-38.58c5.44-5.44,6.24-13.98,1.9-20.34l-24.16-35.37c6.21-11.34,11.16-23.27,14.79-35.64l42.07-7.92    c7.56-1.42,13.04-8.03,13.04-15.72v-54.57C484.5,221.02,479.02,214.42,471.46,212.99z M452.5,270.01l-38.98,7.34    c-6.25,1.18-11.21,5.94-12.63,12.14c-3.69,16.02-10,31.25-18.77,45.25c-3.37,5.39-3.24,12.26,0.35,17.51l22.39,32.78l-19.82,19.82    l-32.78-22.39c-5.25-3.59-12.12-3.73-17.51-0.35c-14.01,8.77-29.24,15.08-45.25,18.77c-6.2,1.43-10.96,6.38-12.14,12.63    l-7.34,38.98h-28.03l-7.34-38.98c-1.18-6.25-5.94-11.21-12.14-12.63c-16.02-3.69-31.24-10-45.25-18.77    c-5.39-3.37-12.26-3.24-17.51,0.35l-32.78,22.39l-19.82-19.82l22.39-32.78c3.59-5.25,3.72-12.12,0.35-17.51    c-8.77-14.01-15.08-29.24-18.77-45.25c-1.43-6.2-6.38-10.96-12.63-12.14l-38.98-7.34v-28.03l38.98-7.34    c6.25-1.18,11.21-5.94,12.63-12.14c3.69-16.02,10-31.25,18.77-45.25c3.37-5.39,3.24-12.26-0.35-17.51l-22.39-32.78l19.82-19.82    l32.78,22.39c5.25,3.58,12.12,3.72,17.51,0.35c14.01-8.77,29.24-15.08,45.25-18.77c6.2-1.43,10.96-6.38,12.14-12.63l7.34-38.98    h28.03l7.34,38.98c1.18,6.25,5.94,11.21,12.14,12.63c16.02,3.69,31.24,10,45.25,18.77c5.39,3.37,12.26,3.24,17.51-0.35    l32.78-22.39l19.82,19.82l-22.39,32.78c-3.59,5.25-3.72,12.12-0.35,17.51c8.77,14.01,15.08,29.24,18.77,45.25    c1.43,6.2,6.38,10.96,12.63,12.14l38.98,7.34V270.01z"/><path class="st0" d="M256,148.26c-59.41,0-107.74,48.33-107.74,107.74c0,59.41,48.33,107.74,107.74,107.74    S363.74,315.41,363.74,256C363.74,196.59,315.41,148.26,256,148.26z M256,331.74c-41.76,0-75.74-33.98-75.74-75.74    c0-41.76,33.98-75.74,75.74-75.74s75.74,33.98,75.74,75.74C331.74,297.76,297.76,331.74,256,331.74z"/>
        </svg>
      </div>
      <div class="weatherWidget__mainBlock">
        <div>
          <img :src="getIcon(widget.weatherIcon)" alt="description">
        </div>
        <div class="weatherWidget__temp">
          {{ widget.temp }}{{ widget.viewUnits }}
        </div>
      </div>
      <div class="weatherWidget__block">
        Feels like {{ widget.feelsLike }}{{ widget.viewUnits }}, {{ widget.description }}.
      </div>
      <div class="weatherWidget__addInfo">
        <div class="weatherWidget__block">
          <svg class="weatherWidget__icon" viewBox="0 0 32 32">
            <g>
              <path d="M25,20H13c-0.6,0-1,0.4-1,1s0.4,1,1,1h12c1.7,0,3,1.3,3,3s-1.3,3-3,3c-1.2,0-2.3-0.7-2.8-1.8c-0.2-0.5-0.8-0.7-1.3-0.5 c-0.5,0.2-0.8,0.8-0.5,1.3C21.2,28.8,23,30,25,30c2.8,0,5-2.2,5-5S27.8,20,25,20z"/>
              <path d="M30,10.5C30,6.4,26.6,3,22.5,3c-2.7,0-5.1,1.4-6.4,3.6C15.5,6.2,14.8,6,14,6c-1.6,0-3.1,1-3.7,2.5c-0.2,0.5,0,1.1,0.5,1.3 s1.1,0,1.3-0.5C12.5,8.5,13.2,8,14,8c1.1,0,2,0.9,2,2s-0.9,2-2,2H7c-0.6,0-1,0.4-1,1s0.4,1,1,1h7c2.2,0,4-1.8,4-4 c0-0.7-0.2-1.3-0.5-1.8c0.9-1.9,2.8-3.2,5-3.2c3,0,5.5,2.5,5.5,5.5S25.5,16,22.5,16H3c-0.6,0-1,0.4-1,1s0.4,1,1,1h19.5 C26.6,18,30,14.6,30,10.5z"/>
              <path d="M9,20H6c-0.6,0-1,0.4-1,1s0.4,1,1,1h3c0.6,0,1-0.4,1-1S9.6,20,9,20z"/>
            </g>
          </svg>
          <div class="weatherWidget__block_text">{{ widget.wind }}m/s</div>
        </div>
        <div class="weatherWidget__block">
          <svg class="weatherWidget__icon" viewBox="0 0 512 512">
            <g><g><path d="M256,0C114.51,0,0,114.497,0,256c0,141.491,114.497,256,256,256c141.49,0,256-114.497,256-256 C512,114.509,397.503,0,256,0z M256,478.609c-122.746,0-222.609-99.862-222.609-222.609S133.254,33.391,256,33.391 S478.609,133.254,478.609,256S378.746,478.609,256,478.609z"/></g></g>
            <g><g><path d="M256,66.783C151.29,66.783,66.783,151.738,66.783,256c0,48.619,18.872,97.248,55.421,133.797 c6.52,6.52,17.091,6.52,23.611,0l23.611-23.611c6.52-6.519,6.52-17.09,0-23.611c-6.519-6.52-17.09-6.52-23.611,0l-11.177,11.177 c-19.241-23.851-30.408-52.1-33.501-81.056h15.734c9.22,0,16.696-7.475,16.696-16.696c0-9.22-7.475-16.696-16.696-16.696h-15.725 c3.094-28.955,14.261-57.198,33.5-81.05l11.17,11.169c6.52,6.52,17.091,6.52,23.611,0c6.519-6.519,6.519-17.091,0-23.611 l-11.175-11.175c23.276-18.804,51.227-30.356,81.054-33.5v15.732c0,9.22,7.475,16.696,16.696,16.696 c9.22,0,16.696-7.475,16.696-16.696v-15.731c29.827,3.144,57.777,14.698,81.054,33.5l-72.032,72.032 c-7.699-4.03-16.444-6.323-25.719-6.323c-30.687,0-55.652,24.966-55.652,55.652c0,30.687,24.966,55.652,55.652,55.652 c30.687,0,55.652-24.966,55.652-55.652c0-9.275-2.293-18.02-6.323-25.718l72.026-72.026c19.239,23.85,30.406,52.094,33.5,81.05 H395.13c-9.22,0-16.696,7.475-16.696,16.696c0,9.22,7.475,16.696,16.696,16.696h15.734c-3.093,28.956-14.26,57.206-33.501,81.056 l-11.177-11.177c-6.519-6.519-17.091-6.519-23.611,0c-6.52,6.52-6.52,17.091,0,23.611l23.611,23.611 c6.52,6.52,17.091,6.52,23.611,0c36.482-36.483,55.421-85.084,55.421-133.798C445.217,151.681,360.676,66.783,256,66.783z M256,278.261c-12.275,0-22.261-9.986-22.261-22.261c0-12.275,9.986-22.261,22.261-22.261c12.275,0,22.261,9.986,22.261,22.261 C278.261,268.275,268.275,278.261,256,278.261z"/></g></g>
            <g><g><path d="M272.696,345.043h-33.391c-27.618,0-50.087,22.469-50.087,50.087s22.469,50.087,50.087,50.087h33.391 c27.618,0,50.087-22.469,50.087-50.087S300.314,345.043,272.696,345.043z M272.696,411.826h-33.391 c-9.206,0-16.696-7.49-16.696-16.696s7.49-16.696,16.696-16.696h33.391c9.206,0,16.696,7.49,16.696,16.696 S281.902,411.826,272.696,411.826z"/></g></g>
          </svg>
          <div class="weatherWidget__block_text">{{ widget.hpa }}hPa</div>
        </div>
        <div class="weatherWidget__block">
          <svg class="weatherWidget__icon" viewBox="0 0 488.85 488.85">
            <g><path d="M244.425,98.725c-93.4,0-178.1,51.1-240.6,134.1c-5.1,6.8-5.1,16.3,0,23.1c62.5,83.1,147.2,134.2,240.6,134.2 s178.1-51.1,240.6-134.1c5.1-6.8,5.1-16.3,0-23.1C422.525,149.825,337.825,98.725,244.425,98.725z M251.125,347.025 c-62,3.9-113.2-47.2-109.3-109.3c3.2-51.2,44.7-92.7,95.9-95.9c62-3.9,113.2,47.2,109.3,109.3 C343.725,302.225,302.225,343.725,251.125,347.025z M248.025,299.625c-33.4,2.1-61-25.4-58.8-58.8c1.7-27.6,24.1-49.9,51.7-51.7 c33.4-2.1,61,25.4,58.8,58.8C297.925,275.625,275.525,297.925,248.025,299.625z"/></g>
          </svg>
          <div class="weatherWidget__block_text">{{ widget.visibility }}km</div>
        </div>
        <div class="weatherWidget__block">
          <svg class="weatherWidget__icon" viewBox="0 0 32 32">
            <path d="M23.4761,13.9932,16.8472,3.4365a1.04,1.04,0,0,0-1.6944,0L8.4941,14.0444A9.9861,9.9861,0,0,0,7,19a9,9,0,0,0,18,0A10.0632,10.0632,0,0,0,23.4761,13.9932ZM16,26.0005a7.0089,7.0089,0,0,1-7-7,7.978,7.978,0,0,1,1.2183-3.9438l.935-1.4888L21.2271,23.6411A6.9772,6.9772,0,0,1,16,26.0005Z"/>
          </svg>
          <div class="weatherWidget__block_text">{{ widget.humidity }}%</div>
        </div>
        <div class="weatherWidget__block">
          <svg class="weatherWidget__icon" viewBox="-351 153 256 256">
            <g><path d="M-312.5,344.7c-18.3,0-33.1-14.9-33.1-33.1c0-18.2,14.9-33.1,33.2-33.1c0.1,0,0.3,0,0.4,0c2.6-22.2,21.6-39.6,44.5-39.6 c2.6,0,5.2,0.2,8,0.8c6.6-27.9,31.8-48.3,60.9-48.3c34.6,0,62.7,28.1,62.7,62.7c0,0.1,0,0.3,0,0.4c22.6,2.2,40.4,21.4,40.4,44.5 c0,24.7-20,44.7-44.7,44.7C-141.8,343.8-310.8,344.7-312.5,344.7z M-308.3,287.8c-12.1,0-21.9,9.8-21.9,21.8s9.8,21.8,21.8,21.8 c6.7,0,163.3-0.8,164.5-0.8c18.1,0,32.8-14.8,32.8-32.8s-14.7-32.8-32.7-32.8c-0.5,0.1-0.8,0.1-1.2,0.1h-5.5l0.6-5.5 c0.2-1.6,0.2-3.2,0.2-4.8c0-27.5-22.4-49.9-49.9-49.9c-24.7,0-46,18.5-49.4,43l-0.8,5.8l-5.6-1.8c-3.7-1.2-6.9-1.7-10.1-1.7 c-17.8-0.1-32.5,14.3-32.7,32.3c0.1,0.3,0.1,0.6,0.1,1v5.8l-5.8-1.1C-305.6,287.9-306.9,287.8-308.3,287.8z"/></g>
          </svg>
          <div class="weatherWidget__block_text">{{ widget.clouds }}%</div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import {mapGetters} from "vuex";

export default {
  props: {
    widget: {
      type: Object,
      required: true
    }
  },
  computed: {
    ...mapGetters({
      loading: "getLoading"
    })
  },
  methods: {
    getIcon(icon) {
      return require(`./icons/${icon}.png`);
    },
    openSettings() {
      this.$emit("openSettings");
    }
  }
}

</script>

<style lang="scss" scoped>
@import "./WeatherWidget";
</style>
